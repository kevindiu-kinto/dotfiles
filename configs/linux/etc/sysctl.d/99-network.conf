# Network performance tuning for Docker containers
# These settings optimize network performance for development workloads

# TCP congestion control - BBR configuration
# Must be set before other TCP settings
net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr

# Connection and buffer settings
net.core.somaxconn=65535
net.core.netdev_max_backlog=5000
net.core.rmem_max=67108864
net.core.wmem_max=67108864

# TCP performance optimizations
net.ipv4.tcp_rmem=4096 65536 67108864
net.ipv4.tcp_wmem=4096 65536 67108864
net.ipv4.tcp_fastopen=3
net.ipv4.tcp_window_scaling=1
net.ipv4.tcp_timestamps=1
net.ipv4.tcp_sack=1

# Port range optimization
net.ipv4.ip_local_port_range=1024 65535

# Additional performance settings
net.ipv4.tcp_fin_timeout=15
net.ipv4.tcp_keepalive_time=300
net.ipv4.tcp_keepalive_intvl=15
net.ipv4.tcp_keepalive_probes=5
